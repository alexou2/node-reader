<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css.css">
    <!-- <link rel="script" href="/pageInteractions.js"> -->
    <script type="text/javascript" src="/pageInteractions.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/node-reader-icon3.svg" type="image/x-icon" />

    <title>
        <%= chapName %>
    </title>
</head>

<body>

    <div class="top-bar reader-bar">
        <div class="page-name">
            <h1>
                <%=mangaName%>
                    <%=chapName%>
            </h1>
        </div>

        <!-- shows current path -->
        <div class="currentPath" id="currentPath">
            <a href=" /">Home > </a><a href="/manga/<%= mangaName %>">
                <%= mangaName %> >
            </a> <a href="/manga/<%= mangaName %>/<%= chapName %>">
                <%= chapName %>
            </a>
        </div>
        <span class="closebtn" onclick="showMenuBar()" title="Close Overlay">&#215</span>
    </div>


    <div class="zoom">
        <img class="reset" onclick="fullWidth()" src="/maximize-width.svg" title="Maximize width">
        <img class="reset" onclick="fullHeight()" src="/maximize-height.svg" title="Maximize height">
        <img onclick="zoomout()" src="/zoom_out-icon.svg" title="Zoom out">
        <img onclick="zoomIn()" src="/zoom_in-icon.svg" title="Zoom in">
    </div>

    <!-- buttons -->
    <div class="change-chapter top-buttons">
        <a class="prev-chap" href="../<%=prevChapter%>">◄◄ Previous </a>

        <a class="next-chap" href="../<%=nextChapter%>">Next ►►</a>

    </div>



    <!-- pages -->
    <div class="page" id="page">
        <% for(var i=0; i<path_to_image.length; i++) { %>

            <img id="chapterPages" class="chapterPages" src="<%= path_to_image[i] %>">
            <% } %>
    </div>

    <!-- buttons -->
    <div class="change-chapter bottom-buttons">
        <a class="prev-chap" href="../<%=prevChapter%>">◄◄ Previous </a>

        <a class="next-chap" href="../<%=nextChapter%>">Next ►►</a>

    </div>


    <!-- <div class="menu-bar"> -->
    <div class="menu-bar" id="menu-bar" style="display: none;">
        <div class="closebtn" onclick="closeMenuBar()" title="Close Overlay">&#215</div>
        <div class="menu-content">
            <div class="zoom">
                <img class="reset" onclick="fullWidth()" src="/maximize-width.svg" title="Maximize width">
                <img class="reset" onclick="fullHeight()" src="/maximize-height.svg" title="Maximize height">
                <img onclick="zoomout()" src="/zoom_out-icon.svg" title="Zoom out">
                <img onclick="zoomIn()" src="/zoom_in-icon.svg" title="Zoom in">
            </div>
        </div>
    </div>

    <!-- </div> -->

</body>

</html>





<script>
    // plus button
    function zoomIn() {
        var images = document.getElementsByClassName("chapterPages");
        for (var i = 0; i < images.length; i++) {
            images[i].width += 200;
        }
    }


    // minus button
    function zoomout() {
        var images = document.getElementsByClassName("chapterPages");
        for (var i = 0; i < images.length; i++) {
            images[i].width -= 200;
        }
    }

    // reset button
    function fullWidth() {
        var images = document.getElementsByClassName("chapterPages");
        for (var i = 0; i < images.length; i++) {
            images[i].width = 10000;
        }
    }

    function fullHeight() {
        var images = document.getElementsByClassName("chapterPages");
        for (var i = 0; i < images.length; i++) {
            images[i].width = 1000;
        }

    }

    function showMenuBar() {
        document.getElementById('menu-bar').style.display = "block";
        // document.getElementById('menu-bar').classList.toggle("show");
        // document.getElementById('menu-bar').style.transform(1);

    }

    function closeMenuBar() {
        document.getElementById('menu-bar').style.display = "none";
    }

</script>

<!--todo 
add button for bookmarking chapter
add side bar to change chapters/ go to top of page
add js to resize images without affecting rest of page
 -->